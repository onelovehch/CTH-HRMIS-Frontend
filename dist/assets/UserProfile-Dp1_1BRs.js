import{u as i,r as p,o as c,c as l,a as s,b as _,t as o,F as m,d as h,e as v,f as a}from"./index-Bl_1iKkx.js";const f={class:"p-6"},x={class:"table-auto w-full border mb-6"},g={class:"border p-2"},y={key:0},k={class:"border p-2"},w=["src"],B={class:"border p-2"},F={class:"border p-2"},I={class:"border p-2"},N={class:"border p-2"},S={class:"border p-2"},U={class:"border p-2"},V={class:"border p-2"},$={class:"table-auto w-full border mb-6"},j={class:"border p-2"},z={class:"border p-2"},A={class:"border p-2"},C={class:"border p-2"},D={class:"border p-2 text-center"},E=["checked"],L={class:"border p-4 rounded bg-gray-50 whitespace-pre-line"},q={__name:"UserProfile",setup(M){const n=i().params.id,e=p({}),u=localStorage.getItem("token"),b=async()=>{try{const d=await v.get(`/api/users/${n}`,{headers:{Authorization:`Bearer ${u}`}});e.value=d.data}catch(d){alert("使用者資料載入失敗"),console.error(d)}};return c(()=>{b()}),(d,t)=>(a(),l("div",f,[t[10]||(t[10]=s("h1",{class:"text-2xl font-bold mb-6"},"使用者個人資料",-1)),t[11]||(t[11]=s("h2",{class:"text-xl font-semibold mb-2"},"基本資料",-1)),s("table",x,[s("tbody",null,[s("tr",null,[t[0]||(t[0]=s("td",{class:"border p-2"},"姓名",-1)),s("td",g,o(e.value.declare_name),1)]),e.value.photo_url?(a(),l("tr",y,[t[1]||(t[1]=s("td",{class:"border p-2"},"照片",-1)),s("td",k,[s("img",{src:e.value.photo_url,alt:"使用者照片",class:"w-32 h-32 rounded"},null,8,w)])])):_("",!0),s("tr",null,[t[2]||(t[2]=s("td",{class:"border p-2"},"狀態",-1)),s("td",B,o(e.value.status),1)]),s("tr",null,[t[3]||(t[3]=s("td",{class:"border p-2"},"部門",-1)),s("td",F,o(e.value.department?.dpname||"未指定"),1)]),s("tr",null,[t[4]||(t[4]=s("td",{class:"border p-2"},"任職起日",-1)),s("td",I,o(e.value.practice_start||"-"),1)]),s("tr",null,[t[5]||(t[5]=s("td",{class:"border p-2"},"任職迄日",-1)),s("td",N,o(e.value.practice_end||"-"),1)]),s("tr",null,[t[6]||(t[6]=s("td",{class:"border p-2"},"電話",-1)),s("td",S,o(e.value.phone||"-"),1)]),s("tr",null,[t[7]||(t[7]=s("td",{class:"border p-2"},"信箱",-1)),s("td",U,o(e.value.email||"-"),1)]),s("tr",null,[t[8]||(t[8]=s("td",{class:"border p-2"},"住址",-1)),s("td",V,o(e.value.address||"-"),1)])])]),t[12]||(t[12]=s("h2",{class:"text-xl font-semibold mb-2"},"證照資料",-1)),s("table",$,[t[9]||(t[9]=s("thead",{class:"bg-gray-100"},[s("tr",null,[s("th",{class:"border p-2"},"類別"),s("th",{class:"border p-2"},"名稱"),s("th",{class:"border p-2"},"起日"),s("th",{class:"border p-2"},"迄日"),s("th",{class:"border p-2"},"加給")])],-1)),s("tbody",null,[(a(!0),l(m,null,h(e.value.certificates||[],r=>(a(),l("tr",{key:r.id},[s("td",j,o(r.category),1),s("td",z,o(r.name),1),s("td",A,o(r.start_date),1),s("td",C,o(r.end_date),1),s("td",D,[s("input",{type:"checkbox",checked:r.is_bonus,disabled:""},null,8,E)])]))),128))])]),t[13]||(t[13]=s("h2",{class:"text-xl font-semibold mb-2"},"職務說明書",-1)),s("div",L,o(e.value.job_description||"尚未填寫"),1)]))}};export{q as default};
